window.Clapy=function(t){function n(o){if(e[o])return e[o].exports;var c=e[o]={i:o,l:!1,exports:{}};return t[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e(1);var c=function(){function t(t,n,e,c){var r=t[n];return r&&(void 0===r?"undefined":o(r))===c?r:e}function n(t){var n=document.createElement("button");n.classList.add("clapy__button");var e=document.createElement("div");e.classList.add("clapy__counter"),e.appendChild(document.createTextNode("-")),t.appendChild(n),t.appendChild(e)}function e(t){t.querySelector(".clapy__button").addEventListener("click",r)}function c(n){s.forEach(function(e){var o=t(e.dataset,"clapyUrl",p,"string");n===o&&(e.querySelector(".clapy__counter").innerHTML=f[n].count)})}function r(n){n.preventDefault();var e=n.target.parentNode,o=t(e.dataset,"clapyUrl",p,"string");f[o].count=f[o].count+1,c(o),fetch(""+l+o,{method:"POST"}).then(function(t){return t.json()}).then(function(t){t.clap||(f[o].count=t.count,c(o))}).catch(function(t){console.log(t)})}function u(t){f[t]&&f[t].fetching||(f[t]=f[t]||{count:0,fetching:!1},f[t].fetching=!0,fetch(""+l+t).then(function(t){return t.json()}).then(function(n){f[t].count=n.count,f[t].fetching=!1,c(t)}).catch(function(t){console.log(t)}))}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t(i,"selector",".clapy","string"),l=t(i,"api","https://clapy-dev.now.sh/","string"),f={},p=window.location.href.split("?")[0],s=document.querySelectorAll(a);s.forEach(function(o){var c=t(o.dataset,"clapyUrl",p,"string");n(o),e(o),u(c)})};t.exports=c},function(t,n){}]);